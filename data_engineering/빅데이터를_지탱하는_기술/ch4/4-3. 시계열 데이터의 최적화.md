# 프로세스 시간과 이벤트 시간(데이터 분석의 대상은 주로 이벤트 시간)
## 프로세스 시간에 의한 분할과 문제점
보통 분산 스토리지에 데이터를 넣을 때는 프로세스 시간을 사용한다. 
따라서 1월 1일에 도착한 데이터지만, 과거에 발생한 이벤트를 포함하는 경우도 있다.

따라서 특정 이벤트 시간에 대한 데이터를 조회하고 싶으면 풀스캔을 해야한다.
이는 부하를 일으키고 한정된 자원의 낭비를 일으키게 된다.

# 시계열 인덱스(이벤트 시간에 의한 집계의 효율화-1)
카산드라와 같이 시계열 인덱스에 대응하는 분산 데이터베이스를 이용해 볼 수 있다.
하지만 장기간에 걸쳐 대량의 데이터를 집계하는 경우에는 적절하지 못하며 결국 열 지향 스토리지를 써야한다.

# 조건절 푸쉬다운(이벤트 시간에 의한 집계의 효율화-2)
데이터를 배치처리로 이벤트 시간 기준 정렬 후 열지향 스토리지로 변환하는 것이다.
여기서 필요한 최소한의 데이터만을 읽도록 하는 최적화가 조건절 푸시다운이며, 이를 통해 풀스캔을 피한다.

> 조건절 푸시다운을 최대한 활용하려면 다수의 연속된 데이터를 한 곳에 배치해야 한다.
> 따라서 데이터 정렬이 필요한 것이다.
> 따라서 열지향 스토리지를 짧은 주기로 만들면 정렬이 잘 이루어지고 있더라도 데이터 로드가 빈번히 발생해서 최적화의 효과를 낮춘다.

# 이벤트 시간에 의한 분할(테이블 파티셔닝, 시계열 테이블)
이벤트 발생시간을 파티션의 이름에 포함하여 시계열 테이블을 만드는 것이다. 이런 경우 새로운 데이터를 추가할 때 문제가 생긴다.
과거의 데이터가 온 경우, 이미 만들어진 과거의 시계열 테이블에도 계속해서 쓰기 작업이 진행되기 때문이다.
따라서 데이터 수집시에는 프로세스 시간만으로 효율적으로 진행하고, 데이터 마트를 이벤트 시간에 의해 정렬할 수 있도록 할 수 있다.